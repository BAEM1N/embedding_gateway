# ============================================================
# Embedding Gateway Configuration
# ============================================================
# 각 백엔드는 로컬/원격 어디에 있든 BASE_URL만 지정하면 사용 가능.
# DOCKER_IMAGE를 설정하면 로컬 Docker 컨테이너를 자동 관리 (모델 스와핑).
# DOCKER_IMAGE를 비우면 원격 모드 (HTTP 프록시만, Docker 관리 없음).
# ============================================================

# Gateway
GATEWAY_HOST=0.0.0.0
GATEWAY_PORT=8000

# HuggingFace token (gated 모델 접근용)
# HF_TOKEN=hf_your_token_here

# ============================================================
# Ollama (항상 원격 모드 — Docker 관리 없음)
# ============================================================
OLLAMA_BASE_URL=http://localhost:11434
OLLAMA_DEFAULT_MODEL=bge-m3

# ============================================================
# TEI (Text Embeddings Inference)
# ============================================================
TEI_BASE_URL=http://localhost:8080
TEI_DEFAULT_MODEL=intfloat/multilingual-e5-large-instruct
TEI_MODELS=intfloat/multilingual-e5-base,intfloat/multilingual-e5-large-instruct,nlpai-lab/KURE-v1

# 로컬 Docker 관리 모드 (모델 스와핑 지원)
# 비우면 원격 모드 → BASE_URL로 HTTP 프록시만 수행
TEI_DOCKER_IMAGE=ghcr.io/huggingface/text-embeddings-inference:89-1.9
TEI_CONTAINER_NAME=tei-embeddings
TEI_SWAP_TIMEOUT=600
TEI_WSL_DISTRO=Ubuntu-24.04

# ============================================================
# vLLM (TEI가 지원하지 못하는 모델용, opt-in)
# ============================================================
# VLLM_MODELS가 비어있으면 vLLM 백엔드 자체가 비활성화됨
# VLLM_BASE_URL=http://localhost:8081
# VLLM_DEFAULT_MODEL=jinaai/jina-embeddings-v3
# VLLM_MODELS=jinaai/jina-embeddings-v3

# 로컬 Docker 관리 모드 (모델 스와핑 지원)
# 비우면 원격 모드 → BASE_URL로 HTTP 프록시만 수행
# VLLM_DOCKER_IMAGE=vllm/vllm-openai:latest
# VLLM_CONTAINER_NAME=vllm-embeddings
# VLLM_SWAP_TIMEOUT=300
# VLLM_WSL_DISTRO=Ubuntu-24.04

# ============================================================
# 원격 백엔드 예시 (다른 PC에서 실행 중인 백엔드 사용)
# ============================================================
# OLLAMA_BASE_URL=http://192.168.1.100:11434
# TEI_BASE_URL=http://192.168.1.200:8080
# TEI_DOCKER_IMAGE=              ← 비우면 원격 모드
# VLLM_BASE_URL=http://192.168.1.300:8081
# VLLM_DOCKER_IMAGE=             ← 비우면 원격 모드
